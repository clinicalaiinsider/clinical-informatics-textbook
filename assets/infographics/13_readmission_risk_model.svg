<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1300 950" width="1300" height="950">
  <defs>
    <!-- Gradients -->
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#553c9a"/>
      <stop offset="100%" style="stop-color:#805ad5"/>
    </linearGradient>
    <linearGradient id="riskGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#38a169"/>
      <stop offset="33%" style="stop-color:#ecc94b"/>
      <stop offset="66%" style="stop-color:#ed8936"/>
      <stop offset="100%" style="stop-color:#c53030"/>
    </linearGradient>
    <linearGradient id="lowRiskGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#48bb78"/>
      <stop offset="100%" style="stop-color:#38a169"/>
    </linearGradient>
    <linearGradient id="featureGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4299e1"/>
      <stop offset="100%" style="stop-color:#3182ce"/>
    </linearGradient>
    <linearGradient id="mlGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ed8936"/>
      <stop offset="100%" style="stop-color:#dd6b20"/>
    </linearGradient>

    <!-- Shadow filter -->
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="3" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
    <filter id="softShadow" x="-5%" y="-5%" width="110%" height="110%">
      <feDropShadow dx="1" dy="2" stdDeviation="2" flood-opacity="0.15"/>
    </filter>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1300" height="950" fill="#f8fafc"/>

  <!-- Header -->
  <rect x="0" y="0" width="1300" height="80" fill="url(#headerGrad)"/>
  <text x="650" y="35" font-family="Arial, sans-serif" font-size="26" font-weight="bold" fill="white" text-anchor="middle">30-DAY READMISSION RISK PREDICTION</text>
  <text x="650" y="60" font-family="Arial, sans-serif" font-size="14" fill="#e9d8fd" text-anchor="middle">Patient-Level Prediction Model ‚Äî Maria Rodriguez Risk Assessment</text>

  <!-- Model Architecture Box -->
  <rect x="50" y="100" width="750" height="200" rx="10" fill="white" stroke="#805ad5" stroke-width="2" filter="url(#shadow)"/>
  <rect x="50" y="100" width="750" height="40" rx="10" fill="#805ad5"/>
  <rect x="50" y="130" width="750" height="10" fill="#805ad5"/>
  <text x="425" y="128" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">üß† PREDICTIVE MODEL ARCHITECTURE</text>

  <!-- Model Flow -->
  <g font-family="Arial, sans-serif">
    <!-- Input Features -->
    <rect x="80" y="165" width="140" height="110" rx="8" fill="#edf2f7" stroke="#a0aec0" stroke-width="1"/>
    <text x="150" y="190" font-size="11" font-weight="bold" fill="#2d3748" text-anchor="middle">INPUT FEATURES</text>
    <text x="150" y="210" font-size="9" fill="#4a5568" text-anchor="middle">Demographics</text>
    <text x="150" y="225" font-size="9" fill="#4a5568" text-anchor="middle">Diagnoses</text>
    <text x="150" y="240" font-size="9" fill="#4a5568" text-anchor="middle">Labs</text>
    <text x="150" y="255" font-size="9" fill="#4a5568" text-anchor="middle">Medications</text>
    <text x="150" y="270" font-size="9" fill="#4a5568" text-anchor="middle">Prior Utilization</text>

    <!-- Arrow -->
    <path d="M225,220 L270,220" stroke="#718096" stroke-width="2" fill="none" marker-end="url(#arrowML)"/>
    <defs>
      <marker id="arrowML" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
        <polygon points="0 0, 10 3.5, 0 7" fill="#718096"/>
      </marker>
    </defs>

    <!-- Feature Engineering -->
    <rect x="280" y="165" width="140" height="110" rx="8" fill="#ebf8ff" stroke="#3182ce" stroke-width="2"/>
    <text x="350" y="190" font-size="11" font-weight="bold" fill="#2b6cb0" text-anchor="middle">FEATURE</text>
    <text x="350" y="205" font-size="11" font-weight="bold" fill="#2b6cb0" text-anchor="middle">ENGINEERING</text>
    <text x="350" y="230" font-size="9" fill="#4a5568" text-anchor="middle">Age buckets</text>
    <text x="350" y="245" font-size="9" fill="#4a5568" text-anchor="middle">Comorbidity flags</text>
    <text x="350" y="260" font-size="9" fill="#4a5568" text-anchor="middle">LOS categories</text>
    <text x="350" y="275" font-size="9" fill="#4a5568" text-anchor="middle">Prior admit count</text>

    <!-- Arrow -->
    <path d="M425,220 L470,220" stroke="#718096" stroke-width="2" fill="none" marker-end="url(#arrowML)"/>

    <!-- ML Model -->
    <rect x="480" y="165" width="140" height="110" rx="8" fill="#feebc8" stroke="#dd6b20" stroke-width="2"/>
    <text x="550" y="190" font-size="11" font-weight="bold" fill="#c05621" text-anchor="middle">ML MODEL</text>
    <text x="550" y="215" font-size="9" fill="#4a5568" text-anchor="middle">Logistic Regression</text>
    <text x="550" y="230" font-size="9" fill="#4a5568" text-anchor="middle">or Gradient Boosting</text>
    <text x="550" y="250" font-size="9" fill="#718096" text-anchor="middle">Trained on</text>
    <text x="550" y="265" font-size="9" fill="#718096" text-anchor="middle">historical data</text>

    <!-- Arrow -->
    <path d="M625,220 L670,220" stroke="#718096" stroke-width="2" fill="none" marker-end="url(#arrowML)"/>

    <!-- Risk Score Output -->
    <rect x="680" y="165" width="100" height="110" rx="8" fill="#c6f6d5" stroke="#38a169" stroke-width="2"/>
    <text x="730" y="190" font-size="11" font-weight="bold" fill="#276749" text-anchor="middle">OUTPUT</text>
    <text x="730" y="220" font-size="22" font-weight="bold" fill="#276749" text-anchor="middle">5.2%</text>
    <text x="730" y="245" font-size="9" fill="#4a5568" text-anchor="middle">Probability</text>
    <text x="730" y="260" font-size="9" fill="#4a5568" text-anchor="middle">of 30-day</text>
    <text x="730" y="275" font-size="9" fill="#4a5568" text-anchor="middle">readmission</text>
  </g>

  <!-- Maria's Risk Score Display -->
  <rect x="830" y="100" width="420" height="200" rx="10" fill="white" stroke="#38a169" stroke-width="3" filter="url(#shadow)"/>
  <rect x="830" y="100" width="420" height="40" rx="10" fill="url(#lowRiskGrad)"/>
  <rect x="830" y="130" width="420" height="10" fill="url(#lowRiskGrad)"/>
  <text x="1040" y="128" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">üìä MARIA'S 30-DAY READMISSION RISK</text>

  <!-- Large Risk Score -->
  <text x="1040" y="200" font-family="Arial, sans-serif" font-size="72" font-weight="bold" fill="#38a169" text-anchor="middle" filter="url(#glow)">5.2%</text>

  <!-- Risk Category -->
  <rect x="920" y="230" width="240" height="45" rx="10" fill="#c6f6d5" stroke="#38a169" stroke-width="2"/>
  <text x="1040" y="260" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#276749" text-anchor="middle">LOW RISK</text>

  <!-- Risk Gauge -->
  <rect x="870" y="285" width="340" height="10" rx="5" fill="url(#riskGrad)"/>
  <circle cx="900" cy="290" r="8" fill="#38a169" stroke="white" stroke-width="2"/>
  <text x="870" y="310" font-family="Arial, sans-serif" font-size="9" fill="#718096">0%</text>
  <text x="1030" y="310" font-family="Arial, sans-serif" font-size="9" fill="#718096" text-anchor="middle">15%</text>
  <text x="1195" y="310" font-family="Arial, sans-serif" font-size="9" fill="#718096" text-anchor="end">30%+</text>

  <!-- Feature Contributions Table -->
  <rect x="50" y="320" width="600" height="400" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)"/>

  <!-- Table Header -->
  <rect x="50" y="320" width="600" height="45" rx="10" fill="#2d3748"/>
  <rect x="50" y="355" width="600" height="10" fill="#2d3748"/>
  <text x="350" y="352" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">üîç FEATURE CONTRIBUTION BREAKDOWN</text>

  <!-- Column Headers -->
  <text x="150" y="392" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4a5568" text-anchor="middle">Risk Factor</text>
  <text x="340" y="392" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4a5568" text-anchor="middle">Maria's Value</text>
  <text x="500" y="392" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4a5568" text-anchor="middle">Contribution</text>
  <text x="590" y="392" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4a5568" text-anchor="middle">Impact</text>

  <line x1="250" y1="365" x2="250" y2="720" stroke="#e2e8f0" stroke-width="1"/>
  <line x1="430" y1="365" x2="430" y2="720" stroke="#e2e8f0" stroke-width="1"/>
  <line x1="550" y1="365" x2="550" y2="720" stroke="#e2e8f0" stroke-width="1"/>

  <!-- Row 1 - Base Rate -->
  <rect x="51" y="402" width="598" height="35" fill="#f7fafc"/>
  <text x="150" y="425" font-family="Arial, sans-serif" font-size="11" fill="#4a5568" text-anchor="middle">Baseline readmission rate</text>
  <text x="340" y="425" font-family="Arial, sans-serif" font-size="11" fill="#718096" text-anchor="middle">All patients</text>
  <text x="500" y="425" font-family="Arial, sans-serif" font-size="12" fill="#2d3748" text-anchor="middle">3.0%</text>
  <rect x="560" y="412" width="70" height="20" rx="4" fill="#718096"/>
  <text x="595" y="426" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">BASE</text>

  <!-- Row 2 - Age -->
  <rect x="51" y="437" width="598" height="35" fill="#f0fff4"/>
  <text x="150" y="460" font-family="Arial, sans-serif" font-size="11" fill="#4a5568" text-anchor="middle">Age (‚â•65 increases risk)</text>
  <text x="340" y="460" font-family="Arial, sans-serif" font-size="11" fill="#2d3748" text-anchor="middle">46 years</text>
  <text x="500" y="460" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#38a169" text-anchor="middle">0.0%</text>
  <rect x="560" y="447" width="70" height="20" rx="4" fill="#38a169"/>
  <text x="595" y="461" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">NEUTRAL</text>

  <!-- Row 3 - Prior Admissions -->
  <rect x="51" y="472" width="598" height="35" fill="#f0fff4"/>
  <text x="150" y="495" font-family="Arial, sans-serif" font-size="11" fill="#4a5568" text-anchor="middle">Prior admissions (6 mo)</text>
  <text x="340" y="495" font-family="Arial, sans-serif" font-size="11" fill="#2d3748" text-anchor="middle">0</text>
  <text x="500" y="495" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#38a169" text-anchor="middle">-0.5%</text>
  <rect x="560" y="482" width="70" height="20" rx="4" fill="#38a169"/>
  <text x="595" y="496" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">‚Üì PROTEC</text>

  <!-- Row 4 - Diabetes -->
  <rect x="51" y="507" width="598" height="35" fill="#fff5f5"/>
  <text x="150" y="530" font-family="Arial, sans-serif" font-size="11" fill="#4a5568" text-anchor="middle">Diabetes (comorbidity)</text>
  <text x="340" y="530" font-family="Arial, sans-serif" font-size="11" fill="#2d3748" text-anchor="middle">Yes (Type 2)</text>
  <text x="500" y="530" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#c53030" text-anchor="middle">+0.2%</text>
  <rect x="560" y="517" width="70" height="20" rx="4" fill="#e53e3e"/>
  <text x="595" y="531" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">‚Üë RISK</text>

  <!-- Row 5 - AFib -->
  <rect x="51" y="542" width="598" height="35" fill="#fff5f5"/>
  <text x="150" y="565" font-family="Arial, sans-serif" font-size="11" fill="#4a5568" text-anchor="middle">Atrial fibrillation</text>
  <text x="340" y="565" font-family="Arial, sans-serif" font-size="11" fill="#2d3748" text-anchor="middle">Yes (new onset)</text>
  <text x="500" y="565" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#c53030" text-anchor="middle">+0.15%</text>
  <rect x="560" y="552" width="70" height="20" rx="4" fill="#e53e3e"/>
  <text x="595" y="566" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">‚Üë RISK</text>

  <!-- Row 6 - Length of Stay -->
  <rect x="51" y="577" width="598" height="35" fill="#f0fff4"/>
  <text x="150" y="600" font-family="Arial, sans-serif" font-size="11" fill="#4a5568" text-anchor="middle">Length of stay (‚â•7 days)</text>
  <text x="340" y="600" font-family="Arial, sans-serif" font-size="11" fill="#2d3748" text-anchor="middle">1 day (ED obs)</text>
  <text x="500" y="600" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#38a169" text-anchor="middle">0.0%</text>
  <rect x="560" y="587" width="70" height="20" rx="4" fill="#38a169"/>
  <text x="595" y="601" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">NEUTRAL</text>

  <!-- Row 7 - Renal Function -->
  <rect x="51" y="612" width="598" height="35" fill="#f0fff4"/>
  <text x="150" y="635" font-family="Arial, sans-serif" font-size="11" fill="#4a5568" text-anchor="middle">Renal function (eGFR&lt;30)</text>
  <text x="340" y="635" font-family="Arial, sans-serif" font-size="11" fill="#2d3748" text-anchor="middle">eGFR 82</text>
  <text x="500" y="635" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#38a169" text-anchor="middle">-0.2%</text>
  <rect x="560" y="622" width="70" height="20" rx="4" fill="#38a169"/>
  <text x="595" y="636" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">‚Üì PROTEC</text>

  <!-- Row 8 - Discharge Disposition -->
  <rect x="51" y="647" width="598" height="35" fill="#f0fff4"/>
  <text x="150" y="670" font-family="Arial, sans-serif" font-size="11" fill="#4a5568" text-anchor="middle">Discharge to SNF</text>
  <text x="340" y="670" font-family="Arial, sans-serif" font-size="11" fill="#2d3748" text-anchor="middle">No (Home)</text>
  <text x="500" y="670" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#38a169" text-anchor="middle">-0.1%</text>
  <rect x="560" y="657" width="70" height="20" rx="4" fill="#38a169"/>
  <text x="595" y="671" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">‚Üì PROTEC</text>

  <!-- Total Row -->
  <rect x="51" y="682" width="598" height="35" fill="#e6fffa"/>
  <text x="150" y="705" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#234e52" text-anchor="middle">PREDICTED RISK SCORE</text>
  <text x="340" y="705" font-family="Arial, sans-serif" font-size="12" fill="#234e52" text-anchor="middle">‚Äî</text>
  <text x="500" y="705" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#276749" text-anchor="middle">5.2%</text>
  <rect x="560" y="692" width="70" height="20" rx="4" fill="#276749"/>
  <text x="595" y="706" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">LOW</text>

  <!-- Protective Factors Summary -->
  <rect x="680" y="320" width="570" height="180" rx="10" fill="white" stroke="#38a169" stroke-width="2" filter="url(#softShadow)"/>
  <rect x="680" y="320" width="570" height="35" rx="10" fill="#38a169"/>
  <rect x="680" y="345" width="570" height="10" fill="#38a169"/>
  <text x="965" y="345" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white" text-anchor="middle">‚úì MARIA'S PROTECTIVE FACTORS</text>

  <g font-family="Arial, sans-serif" font-size="12" fill="#4a5568">
    <text x="710" y="385">‚úì</text>
    <text x="730" y="385" font-weight="bold" fill="#276749">Young age (46)</text>
    <text x="730" y="403" fill="#718096">No age-related risk factor</text>

    <text x="710" y="435">‚úì</text>
    <text x="730" y="435" font-weight="bold" fill="#276749">Short LOS (1 day)</text>
    <text x="730" y="453" fill="#718096">No extended hospitalization penalty</text>

    <text x="710" y="485">‚úì</text>
    <text x="730" y="485" font-weight="bold" fill="#276749">No prior admissions</text>
    <text x="730" y="503" fill="#718096">Strongest protective factor (-0.5%)</text>

    <text x="1000" y="385">‚úì</text>
    <text x="1020" y="385" font-weight="bold" fill="#276749">Good renal function</text>
    <text x="1020" y="403" fill="#718096">eGFR 82 (normal)</text>

    <text x="1000" y="435">‚úì</text>
    <text x="1020" y="435" font-weight="bold" fill="#276749">Discharged home</text>
    <text x="1020" y="453" fill="#718096">Not SNF/rehab facility</text>
  </g>

  <!-- Clinical Recommendation -->
  <rect x="680" y="520" width="570" height="200" rx="10" fill="white" stroke="#805ad5" stroke-width="2" filter="url(#softShadow)"/>
  <rect x="680" y="520" width="570" height="35" rx="10" fill="#805ad5"/>
  <rect x="680" y="545" width="570" height="10" fill="#805ad5"/>
  <text x="965" y="545" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white" text-anchor="middle">üìã CLINICAL RECOMMENDATIONS</text>

  <g font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    <text x="710" y="585" font-weight="bold" fill="#553c9a">Low Risk (‚â§10%) Pathway:</text>
    <text x="720" y="605">‚Ä¢ Standard discharge instructions</text>
    <text x="720" y="625">‚Ä¢ PCP follow-up within 7 days</text>
    <text x="720" y="645">‚Ä¢ Medication reconciliation complete</text>
    <text x="720" y="665">‚Ä¢ Patient education on warning signs</text>

    <text x="710" y="695" font-weight="bold" fill="#553c9a">Maria's Action Items:</text>
    <text x="720" y="715" fill="#38a169">‚úì Cardiology follow-up scheduled (Feb 14)</text>
    <text x="720" y="735" fill="#38a169">‚úì Anticoagulation education complete</text>
  </g>

  <!-- OMOP PLP Reference -->
  <rect x="50" y="740" width="600" height="180" rx="10" fill="white" stroke="#dd6b20" stroke-width="2" filter="url(#softShadow)"/>
  <rect x="50" y="740" width="600" height="35" rx="10" fill="url(#mlGrad)"/>
  <rect x="50" y="765" width="600" height="10" fill="url(#mlGrad)"/>
  <text x="350" y="765" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white" text-anchor="middle">üî¨ OHDSI PATIENT-LEVEL PREDICTION FRAMEWORK</text>

  <g font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    <text x="70" y="800" font-weight="bold" fill="#c05621">PatientLevelPrediction R Package:</text>
    <text x="80" y="820">‚Ä¢ Standardized prediction pipeline on OMOP CDM</text>
    <text x="80" y="840">‚Ä¢ 15+ ML algorithms (LASSO, XGBoost, Deep Learning)</text>
    <text x="80" y="860">‚Ä¢ Automated feature extraction from all OMOP tables</text>
    <text x="80" y="880">‚Ä¢ External validation across OHDSI network sites</text>

    <text x="400" y="800" font-weight="bold" fill="#c05621">Model Performance:</text>
    <text x="410" y="820">AUROC: 0.72 (good discrimination)</text>
    <text x="410" y="840">Calibration: Hosmer-Lemeshow p=0.15</text>
    <text x="410" y="860">PPV at 10% threshold: 22%</text>
    <text x="410" y="880">Validated on 3 external sites</text>
  </g>
</svg>